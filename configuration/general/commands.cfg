define command {
    command_line    $USER1$/check_dummy 0
    command_name    check_dummy
}

define command {
    command_line    $USER1$/check_http $ARG1$
    command_name    check_http_redefined
}

define command {
    # command is invoked after freshness is not given and emails are sent.
    # TODO: meaning? for hosts that we only get passive results from, this
    command_line    $USER1$/check_dummy 4 "UNKNOWN: Attention, did not get fresh checks!"
    command_name    freshness_warning
}

define command {
    command_line    $USER1$/check_ping -H $HOSTADDRESS$ -w 3000.0,80% -c 5000.0,100% -p 5
    command_name    check-ping
}

define command {
    command_line    /usr/bin/curl --tlsv1.2 -e 'https://clarin.fz-juelich.de/icinga/' -f -L -s -v -o /dev/null -w '@$USER3$/curl.format' '$ARG1$://$ARG2$:$ARG4$/$ARG3$' 2>&1 || exit 2
    command_name    curl_probe
}

define command {
    command_line    /usr/bin/curl --tlsv1.2 -e 'https://clarin.fz-juelich.de/icinga/' -f -L -s -v -w '@$USER3$/curl.format' -H 'Accept: application/json' '$ARG1$://$ARG2$:$ARG4$/$ARG3$' | python -I -m json.tool 1> /dev/null 2>&1 || exit 2
    command_name    curl_probe_json
}

define command {
    command_line    /usr/bin/curl --tlsv1.2 -e 'https://clarin.fz-juelich.de/icinga/' -f -L -s -v -w '@$USER3$/curl.format' -H 'Accept: application/xml' '$ARG1$://$ARG2$:$ARG4$/$ARG3$' | xmllint --valid - 1> /dev/null || exit 2
    command_name    curl_probe_xml
}

###
### The commands in this section are referred to by autogenerated services based on the Centre Registry
###

define command {
    command_line    /usr/bin/curl --tlsv1.2 -e 'https://clarin.fz-juelich.de/icinga/' -f -L -s -v -w '@$USER3$/curl.format' -H 'Accept: application/xml' '$ARG1$://$ARG2$:$ARG4$/$ARG3$' | xmllint --noout --schema '$USER2$/SRU.xsd' - || exit 2
    command_name    check_cql
}

define command {
    command_line   /usr/bin/curl --tlsv1.2 -e 'https://clarin.fz-juelich.de/icinga/' -f -L -s -v -o /dev/null -w '@$USER3$/curl.format' '$ARG1$://$ARG2$:$ARG4$/$ARG3$' | xmllint --noout --valid - || curl -s -I '$ARG1$://$ARG2$:$ARG4$/$ARG3$' | grep -Eio 'Retry-After: [[:digit:]]+' || exit 2
    command_name   check_oai
}

###
### WebLicht
###

define command {
    command_line    sh '$USER2$/tue/jar_wrapper.sh' $ARG1$ $ARG2$ $ARG3$
    command_name    jar_wrapper
}
