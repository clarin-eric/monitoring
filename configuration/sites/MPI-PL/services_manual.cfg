# Template
define service {
    check_interval           60
    contacts                 gAAAAABVZx5t172NoG9e_tq-fF19MvWk8Q7mb9VJrNw-8Mi8l5yTNJnwGrLm_GNGi2OFCQEq-QoCzrfOq0ljDA73UvByCB55JTGRsk5Jsm5tgtJzCk6o5Fw=,gAAAAABVZx5sgoTDhM8m6twtI6pev7AhBYETVU4-7Ao2paMX4qhP9vHMr84goO9Jye5-RL0CBzmUZCjwHZg2bi3UrFNTMupvxA==
    name                     MPI-PL-service
    register                 0
    servicegroups            MPI-PL
    use                      clarin-direct-warning
}

define service {
    check_command            curl_probe_ldap!ldap!user.clarin.eu!/ou=members,dc=clarin,dc=eu!10389
    host_name                user.clarin.eu
    service_description      CLARIN LDAP directory [prod]
    use                      custom-active-service,MPI-PL-service
}

# TODO: remove last unnecessary special case commands

define service {
    check_command            probe_curl_handle_json!https!hdl.handle.net!/api/handles/1839/00-0000-0000-0000-0000-4?noredirect&auth&cert&pretty!443!--tlsv1
    display_name             Handle status as JSON
    host_name                MPI-PL
    service_description      handle-resolving
    use                      srv-pnp,MPI-PL-service
}

define service {
    check_command            probe_curl_imdi!https!hdl.handle.net!/1839/00-0000-0000-0000-0000-4!443!--tlsv1
    display_name             Handle resolve to IMDI
    host_name                MPI-PL
    service_description      handle-doc-access
    use                      srv-pnp,MPI-PL-service
}

# TODO: describe purpose better
define service {
    # check_command          check_handle!http!hdl.handle.net!/?hdl=1839%2F00-0000-0000-0000-0000-4&auth=x!80
    check_command            curl_probe!http!hdl.handle.net!/?hdl=1839%2F00-0000-0000-0000-0000-4&auth=x!80
    host_name                corpus1.mpi.nl
    service_description      Handle
    use                      custom-active-service,MPI-PL-service
}

define service {
    check_command            curl_probe!https!$HOSTADDRESS$!/ds/annex/runLoader?nodeid=MPI600401%23!443
    host_name                corpus1.mpi.nl
    service_description      Annex
    use                      custom-active-service,MPI-PL-service
}

define service {
    check_command            curl_probe!https!$HOSTADDRESS$!/jkc/lamus/lamusstart.jsp!443
    host_name                corpus1.mpi.nl
    service_description      Lamus
    use                      custom-active-service,MPI-PL-service
}

define service {
    check_command            curl_probe!https!$HOSTADDRESS$!/lex/lexus/!443
    host_name                corpus1.mpi.nl
    service_description      Lexus
    use                      custom-active-service,MPI-PL-service
}

define service {
    check_command            curl_probe!https!$HOSTADDRESS$!/ds/ComponentRegistry/!443
    host_name                catalog.clarin.eu
    service_description      CLARIN Component Registry [UI][prod]
    use                      custom-active-service,MPI-PL-service
}

define service {
    check_command            curl_probe!https!$HOSTADDRESS$!/vlo/!443
    host_name                catalog.clarin.eu
    service_description      CLARIN VLO catalog [UI][prod]
    use                      custom-active-service,MPI-PL-service
}

define service {
    check_command            curl_probe_saml_metadata!https!$HOSTADDRESS$!/aai/prod_md_about_spf_idps.xml!443
    host_name                infra.clarin.eu
    service_description      CLARIN SPF prod_md_about_spf_idps
    use                      custom-active-service,MPI-PL-service
}

define service {
    check_command            curl_probe_saml_metadata!https!$HOSTADDRESS$!/aai/prod_md_about_clarin_erics_idp.xml!443
    host_name                infra.clarin.eu
    service_description      CLARIN SPF prod_md_about_clarin_erics_idp
    use                      custom-active-service,MPI-PL-service
}

define service {
    check_command            curl_probe!https!$HOSTADDRESS$!/!443
    host_name                svn.clarin.eu
    service_description      CLARIN SVN
    use                      custom-active-service,MPI-PL-service
}

define service {
    check_command            curl_probe!https!$HOSTADDRESS$!/!443
    host_name                trac.clarin.eu
    service_description      CLARIN Trac
    use                      custom-active-service,MPI-PL-service
}