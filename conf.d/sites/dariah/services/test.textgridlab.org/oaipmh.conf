# Endpoint
object Service "OAI-PMH REST Endpoint" {
  import "generic-service"
  host_name = "test.textgridlab.org"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "test.textgridlab.org"
  vars.http_address = "test.textgridlab.org"
  vars.http_uri = "/1.0/tgoaipmh"
  vars.http_string = "CXF - Service list"
  groups = ["sub-fe-test", "textgrid-test"]
  vars.notification["mail"] = {
   groups = ["sub-fe-textgrid-test"]
  }
}

# Identify
object Service "OAI-PMH Identify" {
  import "generic-service"
  host_name = "test.textgridlab.org"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "test.textgridlab.org"
  vars.http_address = "test.textgridlab.org"
  vars.http_uri = "/1.0/tgoaipmh/oai?verb=Identify"
  vars.http_string = "<repositoryName>TextGrid Repository</repositoryName>"
  groups = ["sub-fe-test", "textgrid-test"]
  vars.notification["mail"] = {
   groups = ["sub-fe-textgrid-test"]
  }
}

# GetRecord
object Service "OAI-PMH GetRecord" {
  import "generic-service"
  host_name = "test.textgridlab.org"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "test.textgridlab.org"
  vars.http_address = "test.textgridlab.org"
  vars.http_uri = "/1.0/tgoaipmh/oai?verb=GetRecord&identifier=47tj.0&metadataPrefix=oai_dc"
  vars.http_string = "Eine erste Edition"
  groups = ["sub-fe-test", "textgrid-test"]
  vars.notification["mail"] = {
   groups = ["sub-fe-textgrid-test"]
  }
}

# ListIdentifiers
object Service "OAI-PMH ListIdentifiers" {
  import "generic-service"
  host_name = "test.textgridlab.org"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "test.textgridlab.org"
  vars.http_address = "test.textgridlab.org"
  vars.http_uri = "/1.0/tgoaipmh/oai?verb=ListIdentifiers&metadataPrefix=oai_dc"
  vars.http_string = "ListIdentifiers"
  groups = ["sub-fe-test", "textgrid-test"]
  vars.notification["mail"] = {
   groups = ["sub-fe-textgrid-test"]
  }
}

# ListRecords
object Service "OAI-PMH ListRecords" {
  import "generic-service"
  host_name = "test.textgridlab.org"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "test.textgridlab.org"
  vars.http_address = "test.textgridlab.org"
  vars.http_uri = "/1.0/tgoaipmh/oai?verb=ListRecords&metadataPrefix=oai_dc"
  vars.http_string = "ListRecords"
  groups = ["sub-fe-test", "textgrid-test"]
  vars.notification["mail"] = {
   groups = ["sub-fe-textgrid-test"]
  }
}

object Service "OAI-PMH ListRecords Schema Location Header" {
  import "generic-service"
  host_name = "test.textgridlab.org"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "test.textgridlab.org"
  vars.http_address = "test.textgridlab.org"
  vars.http_uri = "/1.0/tgoaipmh/oai?verb=ListRecords&metadataPrefix=oai_dc"
  vars.http_string = "http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd"
  groups = ["sub-fe-test", "textgrid-test"]
  vars.notification["mail"] = {
   groups = ["sub-fe-textgrid-test"]
  }
}

# ListSets
object Service "OAI-PMH ListSets Dungeon Master Pics" {
  import "generic-service"
  host_name = "test.textgridlab.org"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "test.textgridlab.org"
  vars.http_address = "test.textgridlab.org"
  vars.http_uri = "/1.0/tgoaipmh/oai?verb=ListSets"
  vars.http_string = "furglimurgli"
  groups = ["sub-fe-test", "textgrid-test"]
  vars.notification["mail"] = {
   groups = ["sub-fe-textgrid-test"]
  }
}

object Service "OAI-PMH ListSets No Sandbox Data" {
  import "generic-service"
  host_name = "test.textgridlab.org"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "test.textgridlab.org"
  vars.http_address = "test.textgridlab.org"
  vars.http_uri = "/1.0/tgoaipmh/oai?verb=ListSets"
  vars.http_expect_body_regex = "JUNIT_FU_1"
  vars.http_invertregex = "true"
  groups = ["sub-fe-test", "textgrid-test"]
  vars.notification["mail"] = {
   groups = ["sub-fe-textgrid-test"]
  }
}

# ListMetadataFormats
object Service "OAI-PMH ListMetadataFormats" {
  import "generic-service"
  host_name = "test.textgridlab.org"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "test.textgridlab.org"
  vars.http_address = "test.textgridlab.org"
  vars.http_uri = "/1.0/tgoaipmh/oai?verb=ListMetadataFormats"
  vars.http_string = "ListMetadataFormats"
  groups = ["sub-fe-test", "textgrid-test"]
  vars.notification["mail"] = {
   groups = ["sub-fe-textgrid-test"]
  }
}
