################################################## 
# DARIAH TestServer Repository Service Probes   #
################################################## 
# Publikator TEST
# 
object Service "Publikator Index Page TEST" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/publikator"
  vars.http_onredirect = "follow"
  vars.http_string = "DARIAH-DE Publikator"
}

# DH-publish TEST
# 
object Service "DH-publish Service Version TEST" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/dhpublish/version"
  vars.http_string = "kolibri-dhpublish-service"
}

#object Service "DH-publish Status TEST" {
#  import "generic-service"
#  host_name = "dhrepworkshop.de.dariah.eu"
#  check_command = "http"
#  vars.http_ssl = true
#  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
#  vars.http_uri = "/1.0/dhpublish/https://de.dariah.eu/storage/TESTITEST/status"
#  vars.http_string = "NOT_QUEUED"
#  vars.http_header = "Authorization: bearer " + USER11
#}
#
#object Service "DH-publish Ministatus TEST" {
#  import "generic-service"
#  host_name = "dhrepworkshop.de.dariah.eu"
#  check_command = "http"
#  vars.http_ssl = true
#  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
#  vars.http_uri = "/1.0/dhpublish/https://de.dariah.eu/storage/TESTITEST/ministatus"
#  vars.http_string = "NOT_QUEUED"
#  vars.http_header = "Authorization: bearer " + USER11
#}
#
#object Service "DH-publish Info TEST" {
#  import "generic-service"
#  host_name = "dhrepworkshop.de.dariah.eu"
#  check_command = "http"
#  vars.http_ssl = true
#  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
#  vars.http_uri = "/1.0/dhpublish/https://de.dariah.eu/storage/TESTITEST/info"
#  vars.http_string = "DRAFT"
#  vars.http_header = "Authorization: bearer " + USER11
#}

# DH-crud TEST
# 
object Service "DH-crud Service Version TEST" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/dhcrud/version"
  vars.http_string = "dhcrud-base"
}

object Service "DH-crud READ /data TEST" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/dhcrud/21.T11991/0000-000A-3F6E-6/data"
  vars.http_string = "dariah:Collection"
}

object Service "DH-crud READ TECHMD /tech TEST" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/dhcrud/21.T11991/0000-000A-3F6E-6/tech"
  vars.http_string = "dhrep_21.T11991_0000-000A-3F6E-6.bagit"
}

object Service "DH-crud READ ADM_MD /adm TEST" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/dhcrud/21.T11991/0000-000A-3F6E-6/adm"
  vars.http_string = "http://hdl.handle.net/21.T11991/0000-000A-3F6E-6"
}

object Service "DH-crud READMETADATA /metadata TEST" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/dhcrud/21.T11991/0000-000A-3F6E-6/metadata"
  vars.http_string = "http://dx.doi.org/10.5072/0000-000A-3F6E-6"
}

object Service "DH-crud READMETADATA /metadata/xml TEST" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/dhcrud/21.T11991/0000-000A-3F6E-6/metadata/xml"
  vars.http_string = "http://dx.doi.org/10.5072/0000-000A-3F6E-6"
}

object Service "DH-crud READMETADATA /metadata/ttl TEST" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/dhcrud/21.T11991/0000-000A-3F6E-6/metadata/ttl"
  vars.http_string = "http://dx.doi.org/10.5072/0000-000A-3F6E-6"
}

object Service "DH-crud READMETADATA /metadata/json TEST" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/dhcrud/21.T11991/0000-000A-3F6E-6/metadata/json"
  vars.http_string = "http://dx.doi.org/10.5072/0000-000A-3F6E-6"
}

object Service "DH-crud READMETADATA /metadata/jsonld TEST" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/dhcrud/21.T11991/0000-000A-3F6E-6/metadata/jsonld"
  vars.http_string = "http://dx.doi.org/10.5072/0000-000A-3F6E-6"
}

object Service "DH-crud READMETADATA /metadata/ntriples TEST" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/dhcrud/21.T11991/0000-000A-3F6E-6/metadata/ntriples"
  vars.http_string = "http://dx.doi.org/10.5072/0000-000A-3F6E-6"
}

# DARIAH Repository OAI-PMH TEST
# 
object Service "DH-rep OAI-PMH Identify TEST" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/oaipmh/oai?verb=Identify"
  vars.http_string = "DARIAH-DE Repository"
}

object Service "DH-rep OAI-PMH ListIdentifiers TEST" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/oaipmh/oai?verb=ListIdentifiers&metadataPrefix=oai_dc"
  vars.http_string = "ListIdentifiers"
}

object Service "DH-rep OAI-PMH ListRecords TEST" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/oaipmh/oai?verb=ListRecords&metadataPrefix=oai_dc"
  vars.http_string = "ListRecords"
}

object Service "DH-rep OAI-PMH ListSets TEST" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/oaipmh/oai?verb=ListSets&metadataPrefix=oai_dc"
  vars.http_string = "ListSets"
}

object Service "DH-rep OAI-PMH GetRecord TEST" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/oaipmh/oai?verb=GetRecord&metadataPrefix=oai_dc&identifier=21.T11991/0000-000A-3F6E-6"
  vars.http_string = "text/vnd.dariah.dhrep.collection+turtle"
}

object Service "DH-rep OAI-PMH ListRecords Set TEST" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/oaipmh/oai?verb=ListRecords&metadataPrefix=oai_dc&set=21.T11991/0000-000A-3F6E-6"
  vars.http_string = "LordChaos"
}

object Service "DH-rep OAI-PMH ListRecords Schema Location Header" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/oaipmh/oai?verb=ListRecords&metadataPrefix=oai_dc"
  vars.http_string = "http://www.openarchives.org/OAI/2.0/OAI-PMH.xsd"
}

# Check Services Script
# 
object Service "DH-rep Check Services TEST" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "nrpe-check-1arg"
  vars.check = "check_services"
}

# DIGILIB
# 
object Service "digilib_IIIF Frontend" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/digilib/rest/info"
  vars.http_string = "Digilib"
}

object Service "digilib_IIIF" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "nrpe-check-1arg"
  vars.check = "check_http_digilib"
}

object Service "digilib Tomcat Heap Used" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "nrpe-check-1arg"
  vars.check = "check_jmx_digilib_heap_used"
}

object Service "digilib JMX Thread Count" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "nrpe-check-1arg"
  vars.check = "check_jmx_digilib_thread_count"
}

object Service "digilib JMX Open File Descriptors" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "nrpe-check-1arg"
  vars.check = "check_jmx_digilib_open_fd"
}

object Service "digilib_IIIF Tomcat2" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "nrpe-check-1arg"
  vars.check = "check_http_digilib2"
}

object Service "digilib Tomcat Heap Used Tomcat2" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "nrpe-check-1arg"
  vars.check = "check_jmx_digilib2_heap_used"
}

object Service "digilib JMX Thread Count Tomcat2" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "nrpe-check-1arg"
  vars.check = "check_jmx_digilib2_thread_count"
}

object Service "digilib JMX Open File Descriptors Tomcat2" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "nrpe-check-1arg"
  vars.check = "check_jmx_digilib2_open_fd"
}

# Wildfly (message beans)
# 
object Service "Wildfly Memory" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "nrpe-check-1arg"
  vars.check = "check_wildfly_memory"
}

object Service "Wildfly Uptime" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "nrpe-check-1arg"
  vars.check = "check_wildfly_uptime"
}

# IIIFMD Manifests
# 
object Service "IIIF Manifest Overview Page" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/iiif/manifests/"
  vars.http_onredirect = "follow"
  vars.http_string = "DROIM"
}

object Service "IIIF Manifest Entenrennen" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/iiif/manifests/hdl:21.T11991%2F0000-000E-BF4E-5/manifest.json"
  vars.http_onredirect = "follow"
  vars.http_string = "0000-000E-BF4E-5"
}

object Service "IIIF Manifest Einige Tiffs" {
  import "generic-service"
  host_name = "dhrepworkshop.de.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "dhrepworkshop.de.dariah.eu"
  vars.http_uri = "/1.0/iiif/manifests/hdl:21.T11991%2F0000-0013-2808-6/manifest.json"
  vars.http_onredirect = "follow"
  vars.http_string = "0000-0013-2808-6"
}

