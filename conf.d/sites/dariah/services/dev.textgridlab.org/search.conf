object Service "TG-search Root" {
  import "generic-service"
  host_name = "dev.textgridlab.org"
  check_command = "http"
  vars.http_ssl = false
  vars.http_vhost = "dev.textgridlab.org"
  vars.http_address = "dev.textgridlab.org"
  vars.http_uri = "/1.0/tgsearch/"
  groups = ["sub-fe-dev", "textgrid-dev"]
  vars.notification["mail"] = {
   groups = ["sub-fe-textgrid-dev"]
  }
}

object Service "TG-search Aggregation" {
  import "generic-service"
  host_name = "dev.textgridlab.org"
  check_command = "http"
  vars.http_vhost = "dev.textgridlab.org"
  vars.http_address = "dev.textgridlab.org"
  vars.http_uri = "/1.0/tgsearch/navigation/agg/1dv63.0"
  vars.http_timeout = 55
  groups = ["sub-fe-dev", "textgrid-dev"]
  vars.notification["mail"] = {
   groups = ["sub-fe-textgrid-dev"]
  }
}

object Service "TG-search Public FTS Query" {
  import "generic-service"
  host_name = "dev.textgridlab.org"
  check_command = "http"
  vars.http_vhost = "dev.textgridlab.org"
  vars.http_address = "dev.textgridlab.org"
  vars.http_uri = "/1.0/tgsearch-public/search?q=mai"
  vars.http_critical_time = 60
  vars.http_warning_time = 30
  vars.http_timeout = 90
  groups = ["sub-fe-dev", "textgrid-dev"]
  vars.notification["mail"] = {
   groups = ["sub-fe-textgrid-dev"]
  }
}

# TODO Not yet available for ES6! Comment in if check available or probe fixed!
#object Service "ElasticSearch" {
#  import "generic-service"
#  host_name = "dev.textgridlab.org"
#  check_command = "nrpe-check-1arg"
#  vars.check = "check_elasticsearch"
#  groups = ["sub-fe-dev", "textgrid-dev"]
#  vars.notification["mail"] = {
#   groups = ["sub-fe-textgrid-dev"]
#  }
#}

object Service "TG-search Public Query" {
  import "generic-service"
  host_name = "dev.textgridlab.org"
  check_command = "http"
  vars.http_vhost = "dev.textgridlab.org"
  vars.http_address = "dev.textgridlab.org"
  vars.http_uri = "/1.0/tgsearch-public/navigation/agg/textgrid:jfsm.0"
  vars.http_critical_time = 60
  vars.http_warning_time = 30
  vars.http_timeout = 90
  groups = ["sub-fe-dev", "textgrid-dev"]
  vars.notification["mail"] = {
   groups = ["sub-fe-textgrid-dev"]
  }
}

object Service "Tomcat TG-search" {
  import "generic-service"
  host_name = "dev.textgridlab.org"
  check_command = "nrpe-check-1arg"
  vars.check = "check_http_tgsearch"
  groups = ["sub-fe-dev", "textgrid-dev"]
  vars.notification["mail"] = {
   groups = ["sub-fe-textgrid-dev"]
  }
}

object Service "TG-search Public Top Navigation" {
  import "generic-service"
  host_name = "dev.textgridlab.org"
  check_command = "http"
  vars.http_vhost = "dev.textgridlab.org"
  vars.http_address = "dev.textgridlab.org"
  vars.http_uri = "/1.0/tgsearch-public/navigation/toplevel"
  vars.http_critical_time = 20
  vars.http_warning_time = 10
  vars.http_timeout = 120
  groups = ["sub-fe-dev", "textgrid-dev"]
  vars.notification["mail"] = {
   groups = ["sub-fe-textgrid-dev"]
  }
}

object Service "TG-search Public Top Navigation Sandbox" {
  import "generic-service"
  host_name = "dev.textgridlab.org"
  check_command = "http"
  vars.http_vhost = "dev.textgridlab.org"
  vars.http_address = "dev.textgridlab.org"
  vars.http_uri = "/1.0/tgsearch-public/navigation/toplevel?sandbox=true"
  vars.http_critical_time = 20
  vars.http_warning_time = 10
  vars.http_timeout = 120
  groups = ["sub-fe-dev", "textgrid-dev"]
  vars.notification["mail"] = {
   groups = ["sub-fe-textgrid-dev"]
  }
}

#check_command check_http! -p 9091 -u /openrdf-sesame/repositories -k "Accept: application/xml" -s /openrdf-sesame/repositories/textgrid-nonpublic -s /openrdf-sesame/repositories/textgrid-public
object Service "Sesame" {
  import "generic-service"
  host_name = "dev.textgridlab.org"
  check_command = "nrpe-check-1arg"
  vars.check = "check_http_sesame"
  groups = ["sub-fe-dev", "textgrid-dev"]
  vars.notification["mail"] = {
   groups = ["sub-fe-textgrid-dev"]
  }
}
