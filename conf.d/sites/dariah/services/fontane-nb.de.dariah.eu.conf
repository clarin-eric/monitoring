# Fontane PRODUKTIV
## basics
object Service "HTTP Response index.html" {
  import "generic-service"
  host_name = "fontane-nb.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "fontane-nb.dariah.eu"
  vars.http_uri = "/"
  vars.http_onredirect = "follow"
  vars.http_string = "Theodor Fontane: Notizb"
  groups = ["sub-fe-prod"]
  vars.notification["mail"] = {
   groups = ["sub-fe-fontane"]
  }
}

object Service "HTTP Response Imprint" {
  import "generic-service"
  host_name = "fontane-nb.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "fontane-nb.dariah.eu"
  vars.http_uri = "/impressum.html"
  vars.http_onredirect = "follow"
  vars.http_string = "Nieders채chsische Staats- und Universit채tsbibliothek"
  groups = ["sub-fe-prod"]
  vars.notification["mail"] = {
   groups = ["sub-fe-fontane"]
  }
}

object Service "HTTP Response Privacy Policy" {
  import "generic-service"
  host_name = "fontane-nb.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "fontane-nb.dariah.eu"
  vars.http_uri = "/datenschutz.html"
  vars.http_onredirect = "follow"
  vars.http_string = "Nieders채chsische Staats- und Universit채tsbibliothek"
  groups = ["sub-fe-prod"]
  vars.notification["mail"] = {
   groups = ["sub-fe-fontane"]
  }
}

## search
### no result
object Service "HTTP Response search 0 hits" {
  import "generic-service"
  host_name = "fontane-nb.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "fontane-nb.dariah.eu"
  vars.http_uri = "/results.html?q=oompaloompa"
  vars.http_onredirect = "follow"
  vars.http_string = "fsearch:hitcount\">0<"
  groups = ["sub-fe-prod"]
  vars.notification["mail"] = {
   groups = ["sub-fe-fontane"]
  }
}

### many results
object Service "HTTP Response Search for many hits" {
  import "generic-service"
  host_name = "fontane-nb.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "fontane-nb.dariah.eu"
  vars.http_uri = "/results.html?q=Luther"
  vars.http_onredirect = "follow"
  vars.http_expect_body_regex = "fsearch:hitcount\\\">d{2,}"
  vars.http_invertregex = "true"
  groups = ["sub-fe-prod"]
  vars.notification["mail"] = {
   groups = ["sub-fe-fontane"]
  }
}

## Doku
object Service "HTTP Response Gesamtdokumentation 3-21" {
  import "generic-service"
  host_name = "fontane-nb.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "fontane-nb.dariah.eu"
  vars.http_uri = "/doku.html?id=gesamtdokumentation_iii.3.21"
  vars.http_onredirect = "follow"
  vars.http_string = "3.21.20.1.6.2 Blaue vertikale nachgezogene Anstreichung"
  groups = ["sub-fe-prod"]
  vars.notification["mail"] = {
   groups = ["sub-fe-fontane"]
  }
}

## REST APIs
### TOC
object Service "REST/TOC per notebook" {
  import "generic-service"
  host_name = "fontane-nb.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "fontane-nb.dariah.eu"
  vars.http_uri = "/api/toc/16b00"
  vars.http_onredirect = "follow"
  vars.http_string = "Lucas Cranach"
  vars.http_header = "Accept: */*"
  groups = ["sub-fe-prod"]
  vars.notification["mail"] = {
   groups = ["sub-fe-fontane"]
  }
}

### Stellenkommentar
object Service "REST Stellenkommentar" {
  import "generic-service"
  host_name = "fontane-nb.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "fontane-nb.dariah.eu"
  vars.http_uri = "/api/stk/22jt7/1r"
  vars.http_onredirect = "follow"
  vars.http_string = "Kiel"
  vars.http_timeout = 120
  vars.http_header = "Accept: */*"
  groups = ["sub-fe-prod"]
  vars.notification["mail"] = {
   groups = ["sub-fe-fontane"]
  }
}

### INDEX
object Service "REST/INDEX per page" {
  import "generic-service"
  host_name = "fontane-nb.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "fontane-nb.dariah.eu"
  vars.http_uri = "/api/index/16b00/1r"
  vars.http_onredirect = "follow"
  vars.http_string = "Luther"
  vars.http_header = "Accept: */*"
  groups = ["sub-fe-prod"]
  vars.notification["mail"] = {
   groups = ["sub-fe-fontane"]
  }
}

# Fontane TEST (fontane-staging)
object Service "HTTP Response Test Default via Proxy" {
  import "generic-service"
  host_name = "fontane-nb.dariah.eu"
  check_command = "http"
  vars.http_ssl = true
  vars.http_vhost = "fontane-nb.dariah.eu"
  vars.http_uri = "/test"
  vars.http_onredirect = "follow"
  vars.http_string = "Theodor Fontane: Notizb"
  groups = ["sub-fe-prod"]
  vars.notification["mail"] = {
   groups = ["sub-fe-fontane"]
  }
}
